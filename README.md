# AutoManual Studio

**動画をアップロードするだけで、AIが自動的にステップバイステップの手順書を生成する次世代マニュアル作成ツールです。**

Google Gemini 2.0 Flash のマルチモーダル機能を活用し、画面操作の動画から操作手順とスクリーンショットを自動抽出し、編集可能なマニュアルとして出力します。

## 主な機能

- **動画からAI自動生成**: 動画内の操作をAIが解析し、正確な手順テキストとスクリーンショットを数秒で生成。
- **マルチフォーマット・エクスポート**:
    - **PDF**: 印刷や共有に最適なPDF形式（標準レイアウト / 2列レイアウト対応）。
    - **Markdown**: ドキュメント管理ツールやWikiへの貼り付けに。
    - **HTML**: Webページとして即時公開可能。
- **高機能画像エディター (Inline Canvas)**:
    - スクリーンショット上に矢印、枠線、テキスト、スタンプ（項番）、ぼかし、ハイライトを直接追加可能。
    - PowerPointライクな直感的な操作感（Fabric.js採用）。
- **セキュアな処理**: 動画データは一時的な解析にのみ使用され、プライバシーに配慮。

## 推奨される動画サイズと制限

### 🏠 ローカル環境 (`npm run dev`)
- **長さ**: **20分以上も対応可能**（Gemini 1.5 Pro/Flash モデルの制限に準拠）
- **ファイルサイズ**: 2GB未満
- **制限**: タイムアウトがないため、マシンスペックとAPI割り当てが許す限り長時間の動画も解析可能です。

### ☁️ クラウド環境 (Vercel, Netlify, Cloud Run 等)

**サーバーレス環境 (Vercel Free/Pro) の場合:**
- **制限**: 
    1. **アップロード上限**: 4.5MB (Vercel Serverless Functions の制約)
    2. **タイムアウト**: 10秒〜60秒
- **結果**: 実質的に、数秒〜数十秒の非常に短い動画しか処理できません。

**コンテナ / VPS 環境 (Railway, AWS EC2, DigitalOcean 等) の場合:**
- **長さ**: **20分以上も対応可能**
- **制限**: サーバーのリソース（メモリ・ディスク）に依存します。タイムアウト設定を延長すれば、ローカル同様に長時間動画も解析可能です。

※ 本ツールの現状のアーキテクチャはローカル実行またはVPS運用に最適化されています。

## 将来的なデプロイについて

本ツールをクラウド上で本格運用する場合、**長時間動画の解析** に対応するためには、以下の構成を推奨します。

### ✅ 推奨構成: Dockerコンテナ / VPS
- **プラットフォーム**: Railway, Render, AWS App Runner, DigitalOcean App Platform, または任意のVPS
- **メリット**:
    - タイムアウト時間を長く設定可能（例: 5分〜無制限）。
    - ディスク容量やメモリを確保しやすい。
    - `npm run start` でローカル同様の長時間プロセスを実行可能。

### ⚠️ 非推奨: サーバーレス機能 (Vercel Functions等)
- **デメリット**:
    - **10秒〜60秒で強制終了**されるため、動画解析が完了しません。
    - 4.5MB以上のファイルアップロードがブロックされます。

### Railway / Render へのデプロイ（例）

本リポジトリには標準的な `Next.js` アプリケーションが含まれており、多くのPaaSで自動検出されデプロイ可能です。
環境変数 `GEMINI_API_KEY` を設定するだけで動作します。

## プロジェクト構成

- **Frontend**: Next.js 14, TypeScript, Tailwind CSS
- **AI Engine**: Google Gemini 2.0 Flash
- **Canvas Engine**: Fabric.js v6
- **PDF Generation**: html2pdf.js / html2canvas

## セットアップ & 実行

```bash
# 依存関係のインストール
npm install

# 環境変数の設定 (.env.local)
# GEMINI_API_KEY=your_api_key_here

# 開発サーバーの起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてください。

---
Produced by Antigravity AI
