# AutoManual Studio

動画をアップロードするだけで、AIが自動的にステップバイステップの手順書を生成する次世代マニュアル作成ツールです。

![AutoManual Studio](./public/screenshot_preview.png)

## 主な機能

- **動画からAI抽出**: Gemini 2.0 Flash を使用して、動画内の操作を自動的に分析し、手順を書き出します。
- **ビジュアル・アノテーション**: 操作箇所を自動で検出し、スクリーンショット上に**赤枠**を描画します。
- **編集可能なテキスト**: 生成されたテキストは画像の外側に配置されるため、Wordやドキュメントに貼り付けても編集可能です。
- **マルチエクスポート**: 手順書を Markdown、HTML、PDF 形式で保存できます。
- **モダンなUI**: ClearLayer Studio スタイルの洗練されたインターフェース。
- **PowerPoint風キャンバス操作**: 8点ハンドルによる直感的な図形・テキストの配置とリサイズ。

## 開発状況と解決済みの課題

### 解決済み
- **座標ズレの根本解消**: 内部解像度をオリジナル画像に固定し、Viewportズームで表示を同期する絶対座標系を確立。これにより、ウィンドウサイズやデバイスに関わらず、保存・復元時の位置精度100%を実現。
- **テキスト編集のUX改善**: テキストボックスのリサイズをフォントサイズ変更に連動させ、PowerPointと同様の操作感を提供。
- **マルチデバイス対応ハンドル**: ズーム倍率にかかわらず、操作用ハンドルを常に一定の物理サイズ（掴みやすい大きさ）で表示。

### 現在の課題・ロードマップ
- **ヒストリー機能 (Undo/Redo)**: 複雑な編集作業における操作取り消し機能の実装。
- **複数オブジェクトの同時編集**: 現在は単一選択のみに最適化されています。
- **フォントバリエーションの追加**: デザインの幅を広げるためのフォント選択機能。

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 環境変数の設定

プロジェクトのルートディレクトリに `.env.local` ファイルを作成し、Google Gemini API キーを設定してください。

```env
GEMINI_API_KEY=your_api_key_here
```

### 3. 開発サーバーの起動

```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開くとアプリが利用可能です。

## 技術スタック

- **Frontend**: Next.js (App Router), TypeScript
- **Styling**: Vanilla CSS (Custom tokens)
- **AI**: Google Gemini 2.0 Flash
- **Image Processing**: Canvas API, metadata extraction

## 使い方

1. 手順化したい操作画面の動画（MP4, MOV等）をアップロードします。
2. 「マニュアルを生成」ボタンをクリックします。
3. 数秒でAIが画像付きの手順書を出力します。
4. コピーボタンでテキストをクリップボードに保存したり、エクスポート機能でファイルとして保存したりできます。

---
詳細な技術仕様や既知の課題については [技術監査レポート (Technical Audit)](file:///C:/Users/pc/.gemini/antigravity/brain/eb1e2602-31dd-4e82-8164-fc6c0d4c78e8/technical_audit.md) を参照してください。
